{"version":3,"file":"main.js","sources":["source/js/main.js"],"sourcesContent":["const pageHeader = document.querySelector(`.page-header`);\nconst pageHeaderMenuIcon = pageHeader.querySelector(`.page-header__menu-icon`);\nconst headerLogo = pageHeader.querySelector(`.page-header__logo-image`);\nconst agreement = document.querySelector(`.field-agreement`).querySelector(`input`);\nconst btn = document.querySelector(`.page-booking__form`).querySelector(`button`);\nconst form = document.querySelector(`.page-booking__form`);\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  pageHeader.classList.add(`page-header--js-active`);\n  pageHeader.querySelector(`.page-header__menu-icon`).classList.toggle(`visually-hidden`, false);\n});\n\npageHeaderMenuIcon.addEventListener(`click`, function () {\n  document.addEventListener(`keydown`, onEscKeyDown);\n  setTimeout(() => (headerLogo.style.fill = `#011C40`), 200);\n\n  if (pageHeaderMenuIcon.querySelector(`.menu-icon-lines`).classList.contains(`lines__active`)) {\n    document.removeEventListener(`keydown`, onEscKeyDown);\n    setTimeout(() => (headerLogo.style.fill = `#F9FBFD`), 200);\n  }\n\n  pageHeader.querySelector(`.main-navigation`).classList.toggle(`navigation-active`);\n  pageHeader.querySelector(`.menu-icon-lines`).classList.toggle(`lines__active`);\n});\n\nwindow.addEventListener(`resize`, () => {\n  if (window.innerWidth >= 728) {\n    pageHeader.querySelector(`.main-navigation`).classList.toggle(`navigation-active`, false);\n    pageHeader.querySelector(`.menu-icon-lines`).classList.toggle(`lines__active`, false);\n    document.removeEventListener(`keydown`, onEscKeyDown);\n    setTimeout(() => (headerLogo.style.fill = `#F9FBFD`), 200);\n  }\n});\n\nfunction onEscKeyDown(evt) {\n  if (evt.key === `Escape` || evt.key === `Esc`) {\n    pageHeader.querySelector(`.main-navigation`).classList.toggle(`navigation-active`, false);\n    pageHeader.querySelector(`.menu-icon-lines`).classList.toggle(`lines__active`, false);\n    document.removeEventListener(`keydown`, onEscKeyDown);\n    setTimeout(() => (headerLogo.style.fill = `#F9FBFD`), 200);\n  }\n}\n\nform.addEventListener(`input`, (evt) => {\n  const phoneSample = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\n  const mailSample = /^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i;\n  const nameSample = /^[a-zA-Zа-яёА-ЯЁ]+$/u;\n\n  if (evt.target.className === `field-phone__input`) {\n    if (!phoneSample.test(evt.target.value)) {\n      evt.target.setCustomValidity(`Напиши номер правильно`);\n\n    } else {\n      evt.target.setCustomValidity(``);\n    }\n\n  } else if (evt.target.className === `field-email__input`) {\n    if (!mailSample.test(evt.target.value)) {\n      evt.target.setCustomValidity(`Напиши email правильно`);\n\n    } else {\n      evt.target.setCustomValidity(``);\n    }\n  } else if (evt.target.className === `field-name__input`) {\n    if (!nameSample.test(evt.target.value)) {\n      evt.target.setCustomValidity(`Напиши ФИО правильно`);\n\n    } else {\n      evt.target.setCustomValidity(``);\n    }\n  }\n});\n\nagreement.addEventListener(`change`, (evt) => {\n  if (evt.target.checked) {\n    btn.removeAttribute(`disabled`);\n    return;\n  }\n  btn.setAttribute(`disabled`, `disabled`);\n});\n\nwindow.addEventListener(`mapWasLoaded`, () => {\n  window.ymaps.ready(init);\n});\n\nfunction init() {\n  let myMap = new window.ymaps.Map(`YMapsID`, {\n    center: [59.938635, 30.323118],\n    zoom: 15,\n  }, {\n    searchControlProvider: `yandex#search`\n  });\n\n  const myPlacemark = new window.ymaps.Placemark([59.938635, 30.323118], {\n    hintContent: `Круизы в Антарктику`,\n  }, {\n    iconLayout: `default#image`,\n    iconImageHref: `img/map-marker.svg`,\n    iconImageSize: [18, 22],\n    iconImageOffset: [-9, -22],\n  });\n\n  myMap.geoObjects\n      .add(myPlacemark);\n}\n\n\n"],"names":[],"mappings":"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"}