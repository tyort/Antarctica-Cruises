{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["const pageHeader = document.querySelector(`.page-header`);\nconst menu = document.querySelector(`#check-menu`);\nconst agreement = document.querySelector(`.field-agreement`).querySelector(`input`);\nconst btn = document.querySelector(`.page-booking__form`).querySelector(`button`);\nconst form = document.querySelector(`.page-booking__form`);\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  pageHeader.classList.add(`page-header--js-active`);\n});\n\nconst pageHeaderActiveJS = document.querySelector(`.page-header--js-active`);\nconst pageHeaderMenuIcon = pageHeaderActiveJS.querySelector(`.page-header__menu-icon`);\nconst headerLogo = pageHeaderActiveJS.querySelector(`.page-header__logo-image`);\n\n\npageHeaderMenuIcon.addEventListener(`click`, function () {\n  document.addEventListener(`keydown`, onEscKeyDown);\n  setTimeout(() => (headerLogo.src = `img/header-logo-black.svg`), 200);\n\n  if (pageHeader.querySelector(`.menu-icon__lines`).classList.contains(`lines__active`)) {\n    document.removeEventListener(`keydown`, onEscKeyDown);\n\n    setTimeout(() => (headerLogo.src = `img/logo.svg`), 200);\n  }\n\n  pageHeader.querySelector(`.main-navigation`).classList.toggle(`navigation-active`);\n  pageHeader.querySelector(`.menu-icon__lines`).classList.toggle(`lines__active`);\n});\n\nfunction onEscKeyDown(evt) {\n  if (evt.key === `Escape` || evt.key === `Esc`) {\n    pageHeader.querySelector(`.main-navigation`).classList.toggle(`navigation-active`, false);\n    pageHeader.querySelector(`.menu-icon__lines`).classList.toggle(`lines__active`, false);\n    document.removeEventListener(`keydown`, onEscKeyDown);\n    setTimeout(() => (headerLogo.src = `img/logo.svg`), 200);\n  }\n}\n\n\n\n\n\nform.addEventListener(`input`, (evt) => {\n  const phoneSample = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\n  const mailSample = /^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i;\n  const nameSample = /^[a-zA-Zа-яёА-ЯЁ]+$/u;\n\n  if (evt.target.className === `field-phone__input`) {\n    if (!phoneSample.test(evt.target.value)) {\n      evt.target.setCustomValidity(`Напиши номер правильно`);\n\n    } else {\n      evt.target.setCustomValidity(``);\n    }\n\n  } else if (evt.target.className === `field-email__input`) {\n    if (!mailSample.test(evt.target.value)) {\n      evt.target.setCustomValidity(`Напиши email правильно`);\n\n    } else {\n      evt.target.setCustomValidity(``);\n    }\n  } else if (evt.target.className === `field-name__input`) {\n    if (!nameSample.test(evt.target.value)) {\n      evt.target.setCustomValidity(`Напиши ФИО правильно`);\n\n    } else {\n      evt.target.setCustomValidity(``);\n    }\n  }\n});\n\nagreement.addEventListener(`change`, (evt) => {\n  if (evt.target.checked) {\n    btn.removeAttribute(`disabled`);\n    return;\n  }\n  btn.setAttribute(`disabled`, `disabled`);\n});\n\nmenu.addEventListener(`change`, () => {\n  if (menu.checked === true) {\n    document.addEventListener(`keydown`, onEscKeyDown);\n  }\n});\n\nfunction onEscKeyDown(evt) {\n  if (evt.key === `Escape` || evt.key === `Esc`) {\n    menu.checked = false;\n    document.removeEventListener(`keydown`, onEscKeyDown);\n  }\n}\n\nwindow.addEventListener(`mapWasLoaded`, () => {\n  window.ymaps.ready(init);\n});\n\nfunction init() {\n  let myMap = new window.ymaps.Map(`YMapsID`, {\n    center: [59.938635, 30.323118],\n    zoom: 15,\n  }, {\n    searchControlProvider: `yandex#search`\n  });\n\n  const myPlacemark = new window.ymaps.Placemark([59.938635, 30.323118], {\n    hintContent: `Круизы в Антарктику`,\n  }, {\n    iconLayout: `default#image`,\n    iconImageHref: `img/map-marker.svg`,\n    iconImageSize: [18, 22],\n    iconImageOffset: [-9, -22],\n  });\n\n  myMap.geoObjects\n      .add(myPlacemark);\n}\n\n\n"],"file":"main.js"}